{"version":3,"sources":["../src/utils.js"],"names":["constantCaseAll","str","replace","toUpperCase","formatInsideUnderscores","fn","matches","match","Error","start","middle","end","upperFirst","camelCase","constantCase","upperCamelCase","parseTags","split","reduce","prev","curr","text","key","substr","trim","value","tags","hasOwnProperty","Array","isArray"],"mappings":";;;;;;;;;;;;;;;;;;;AACA;;;;AACA;;;;;;AAEO,IAAMA,4CAAkB,SAAlBA,eAAkB,CAACC,GAAD;AAAA,SAC7BA,IACGC,OADH,CACW,iBADX,EAC8B,GAD9B,EAEGA,OAFH,CAEW,SAFX,EAEsB,KAFtB,EAGGA,OAHH,CAGW,MAHX,EAGmB,GAHnB,EAIGA,OAJH,CAIW,gBAJX,EAI6B,EAJ7B,EAKGA,OALH,CAKW,QALX,EAKqB,KALrB,EAK4B;AAL5B,GAMGC,WANH,EAD6B;AAAA,CAAxB;;AASA,IAAMC,4DAA0B,SAA1BA,uBAA0B,CAACC,EAAD;AAAA,SAAmC,UACxEJ,GADwE,EAErE;AACH,QAAMK,UAAUL,IAAIM,KAAJ,CAAU,sBAAV,CAAhB;AACA,QAAI,CAACD,OAAL,EAAc;AACZ,YAAM,IAAIE,KAAJ,CAAU,aAAV,CAAN,CADY,CACoB;AACjC;;AAJE,gDAK4BF,OAL5B;AAAA,QAKMG,KALN;AAAA,QAKaC,MALb;AAAA,QAKqBC,GALrB;;AAMH,WAAQ,GAAEF,KAAM,GAAEJ,GAAGK,MAAH,CAAW,GAAEC,GAAI,EAAnC;AACD,GATsC;AAAA,CAAhC;;AAWA,IAAMC,kCAAaR,6CAAnB;AACA,IAAMS,gCAAYT,4CAAlB;AACA,IAAMU,sCAAeV,wBAAwBJ,eAAxB,CAArB;AACA,IAAMe,0CAAiB,SAAjBA,cAAiB,CAACd,GAAD;AAAA,SAC5BW,WAAWC,UAAUZ,GAAV,CAAX,CAD4B;AAAA,CAAvB;;AAGA,IAAMe,gCAAY,SAAZA,SAAY,CAACf,GAAD,EAAiB;AACxC,SAAOA,IAAIgB,KAAJ,CAAW,IAAX,EAAgBC,MAAhB,CACL,UAACC,IAAD,EAAOC,IAAP,EAAgB;AACd,QAAID,KAAKE,IAAL,KAAc,EAAlB,EAAsB;AACpB,aAAO,sBAAc,EAAd,EAAkBF,IAAlB,EAAwB;AAC7BE,cAAO,GAAEF,KAAKE,IAAK,KAAID,IAAK;AADC,OAAxB,CAAP;AAGD;AACD,QAAMb,QAAQa,KAAKb,KAAL,CAAW,+BAAX,CAAd;AACA,QAAI,CAACA,KAAL,EAAY;AACV,aAAO,sBAAc,EAAd,EAAkBY,IAAlB,EAAwB;AAC7BE,cAAMD;AADuB,OAAxB,CAAP;AAGD;AACD,QAAME,MAAMf,MAAM,CAAN,EAASgB,MAAT,CAAgB,CAAhB,EAAmBC,IAAnB,EAAZ;AACA,QAAMC,QAAQlB,MAAM,CAAN,MAAaa,IAAb,GAAoB,IAApB,GAA2BA,KAAKlB,OAAL,CAAaK,MAAM,CAAN,CAAb,EAAuB,EAAvB,CAAzC;AACA,WAAO,sBAAc,EAAd,EAAkBY,IAAlB,EAAwB;AAC7BO,YAAM,sBAAc,EAAd,EAAkBP,KAAKO,IAAvB,EAA6B;AACjC,SAACJ,GAAD,GAAO,CAACH,KAAKO,IAAL,CAAUC,cAAV,CAAyBL,GAAzB,CAAD,GACHG,KADG,GAEHG,MAAMC,OAAN,CAAcV,KAAKO,IAAL,CAAUJ,GAAV,CAAd,+CACMH,KAAKO,IAAL,CAAUJ,GAAV,CADN,IACsBG,KADtB,KAEE,CAACN,KAAKO,IAAL,CAAUJ,GAAV,CAAD,EAAiBG,KAAjB;AAL2B,OAA7B;AADuB,KAAxB,CAAP;AASD,GAxBI,EAyBL;AACEC,UAAM,EADR;AAEEL,UAAM;AAFR,GAzBK,CAAP;AA8BD,CA/BM","file":"utils.js","sourcesContent":["// @flow\nimport upperFirstAll from \"lodash/upperFirst\";\nimport camelCaseAll from \"lodash/camelCase\";\n\nexport const constantCaseAll = (str: string) =>\n  str\n    .replace(/[^a-zA-Z0-9_]+/g, \"_\")\n    .replace(/[A-Z]+/g, \"_$&\")\n    .replace(/__+/g, \"_\")\n    .replace(/^[^a-zA-Z0-9]+/, \"\")\n    .replace(/^[0-9]/, \"_$&\") // GraphQL enums must not start with a number\n    .toUpperCase();\n\nexport const formatInsideUnderscores = (fn: (input: string) => string) => (\n  str: string\n) => {\n  const matches = str.match(/^(_*)([\\s\\S]*?)(_*)$/);\n  if (!matches) {\n    throw new Error(\"Impossible?\"); // Satiate Flow\n  }\n  const [, start, middle, end] = matches;\n  return `${start}${fn(middle)}${end}`;\n};\n\nexport const upperFirst = formatInsideUnderscores(upperFirstAll);\nexport const camelCase = formatInsideUnderscores(camelCaseAll);\nexport const constantCase = formatInsideUnderscores(constantCaseAll);\nexport const upperCamelCase = (str: string): string =>\n  upperFirst(camelCase(str));\n\nexport const parseTags = (str: string) => {\n  return str.split(`\\n`).reduce(\n    (prev, curr) => {\n      if (prev.text !== \"\") {\n        return Object.assign({}, prev, {\n          text: `${prev.text}\\n${curr}`,\n        });\n      }\n      const match = curr.match(/^@[a-zA-Z][a-zA-Z0-9_]*($|\\s)/);\n      if (!match) {\n        return Object.assign({}, prev, {\n          text: curr,\n        });\n      }\n      const key = match[0].substr(1).trim();\n      const value = match[0] === curr ? true : curr.replace(match[0], \"\");\n      return Object.assign({}, prev, {\n        tags: Object.assign({}, prev.tags, {\n          [key]: !prev.tags.hasOwnProperty(key)\n            ? value\n            : Array.isArray(prev.tags[key])\n              ? [...prev.tags[key], value]\n              : [prev.tags[key], value],\n        }),\n      });\n    },\n    {\n      tags: {},\n      text: \"\",\n    }\n  );\n};\n"]}