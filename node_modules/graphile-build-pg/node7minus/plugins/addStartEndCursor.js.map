{"version":3,"sources":["../../src/plugins/addStartEndCursor.js"],"names":["base64","Buffer","String","str","toString","cursorify","val","__cursor","addStartEndCursor","value","data","length","startCursor","endCursor"],"mappings":";;;;;;;;;;;;;;;;AAEA,IAAMA,SAAS,SAATA,MAAS;AAAA,SAAO,IAAIC,MAAJ,CAAWC,OAAOC,GAAP,CAAX,EAAwBC,QAAxB,CAAiC,QAAjC,CAAP;AAAA,CAAf;;;AAEA,SAASC,SAAT,CAAmBC,GAAnB,EAAwB;AACtB,SAAOA,OAAOA,IAAIC,QAAX,GAAsBP,OAAO,yBAAeM,IAAIC,QAAnB,CAAP,CAAtB,GAA6DD,GAApE;AACD;;kBAEe,SAASE,iBAAT,CAA2BC,KAA3B,EAAkC;AAChD,MAAMC,OAAOD,SAASA,MAAMC,IAAf,IAAuBD,MAAMC,IAAN,CAAWC,MAAlC,GAA2CF,MAAMC,IAAjD,GAAwD,IAArE;AACA,MAAME,cAAcP,UAAUK,QAAQA,KAAK,CAAL,CAAlB,CAApB;AACA,MAAMG,YAAYR,UAAUK,QAAQA,KAAKD,MAAMC,IAAN,CAAWC,MAAX,GAAoB,CAAzB,CAAlB,CAAlB;AACA,SAAO,sBAAc,EAAd,EAAkBF,KAAlB,EAAyB;AAC9BG,eAD8B;AAE9BC;AAF8B,GAAzB,CAAP;AAID,C","file":"addStartEndCursor.js","sourcesContent":["// @flow\nimport type { Plugin } from \"graphile-build\";\nconst base64 = str => new Buffer(String(str)).toString(\"base64\");\n\nfunction cursorify(val) {\n  return val && val.__cursor ? base64(JSON.stringify(val.__cursor)) : val;\n}\n\nexport default (function addStartEndCursor(value) {\n  const data = value && value.data && value.data.length ? value.data : null;\n  const startCursor = cursorify(data && data[0]);\n  const endCursor = cursorify(data && data[value.data.length - 1]);\n  return Object.assign({}, value, {\n    startCursor,\n    endCursor,\n  });\n}: Plugin);\n"]}